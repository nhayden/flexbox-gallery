<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <!-- <link rel="stylesheet" type="text/css" href=""> -->

    <style>

      body {
        font-size: 10px;
        background-color: #060606;
      }

      #center {
        display: flex;
        flex-flow: row wrap;
        justify-content: center;
        align-items: center;
        background-color: #060606;
      }

      .thumb-box {
        overflow: hidden;
        height: 300px;
        width: 300px;
        display: inline-flex;
        justify-content: center;
        align-items: center;
        padding: 1em 1em;
        border-bottom: 7px solid hsla(0, 0%, 29%, 0.5);
      }

      .full-anchor {

      }

      .thumb {
        display: block;
        max-width: 100%;
        max-height: 100%;
      }


      #back-to-top-btn {
        font-size: 5.5vw;
        line-height: 80%;
        display: none;
        position: fixed;
        bottom: 20px;
        right: 30px;
        z-index: 99;
        outline: none;
        border: none;
        cursor: pointer;
        background-color: transparent;
        padding: 1.2vw;
      }
      /* for black button w/ white drop-shadow */
      .back-to-top-btn-blk {
        color: #060606;
        opacity: 0.35;
        text-shadow: 0px 0px 7px white;
      }
      .back-to-top-btn-blk:hover {
        opacity: 0.6;
        transition: opacity 700ms;
      }
      /* for white button w/ black drop-shadow */
      .back-to-top-btn-white {
        color: white;
        opacity: 0.2;
        text-shadow: 1px 2px 16px black;
      }
      .back-to-top-btn-white:hover {
        opacity: 0.7;
        transition: opacity 700ms;
      }

    </style>

    <script>
      "use strict";

      function backgroundLoad1SecInterval() {
        let timeOffset = 0;
        $(".thumb").each(function() {
          let imgElt = $(this),
              fullResSource = imgElt.data('fullres');
          setTimeout(function() {
            $(new Image()).one('load', function() {
              console.log("loaded!");
              imgElt.attr('src', fullResSource);
              setLoadedThumbnailCSS(imgElt);
            }).attr('src', fullResSource);
          }, timeOffset * 1000);

          timeOffset++;
        });
      }

      function backgroundLoadSerial() {
        let thumbnailObjs = $(".thumb-low-res");

        function backgroundLoadSerialHelper(thumbnailObjs, index) {
          if (index === undefined) index = 0;
          if (thumbnailObjs !== undefined && index < thumbnailObjs.length) {
            let imgElt = thumbnailObjs.eq(index),
                fullResSource = imgElt.data("fullres"),
                preloadImg = new Image();
            preloadImg.onload = function() {
              console.log("loaded!");
              backgroundLoadSerialHelper(thumbnailObjs, index+1);
              imgElt.attr("src", fullResSource);
              imgElt.addClass("thumb-hi-res");
              imgElt.removeClass("thumb-low-res");
              setThumbnailPostLoadCSS(imgElt);
            };
            preloadImg.onerror = function() {
              // console.warn("error loading fullres", imgElt.attr("src"));
              backgroundLoadSerialHelper(thumbnailObjs, index+1);
              removeThumbnailBoundingBox(imgElt);
            };
            preloadImg.src = fullResSource;
          }
        }

        backgroundLoadSerialHelper(thumbnailObjs, 0);
      }

      function determineThumbnailDims(thumbnailObj, maxDimValue) {
        let domThumb = thumbnailObj.get(0),
            width = domThumb.naturalWidth,
            height = domThumb.naturalHeight;
        if (width > height) {
          // thumbnailObj.data("maxdim", "width");
          return {
            width: maxDimValue,
            height: "auto",
          };
        } else {
          // thumbnailObj.data("maxdim", "height");
          return {
            width: "auto",
            height: maxDimValue,
          };
        }
      }

      function setThumbnailPreLoadCSS(thumbnailObj) {
        const boundingBoxMaxDim = $(".thumb-box").eq(0).css("width");
        const newDims = determineThumbnailDims(thumbnailObj, boundingBoxMaxDim);

        thumbnailObj.css({
          "opacity": 0.5,
          "width": newDims.width,
          "height": newDims.height,
        });
      }
      function setThumbnailPostLoadCSS(thumbnailObj) {
        thumbnailObj.css({
          "opacity": 1,
        });
      }

      function prepThumbnails() {
        $(".thumb-low-res").each(function() {
          setThumbnailPreLoadCSS($(this));
        });
      }

      function removeThumbnailBoundingBox(thumbnailObj) {
        thumbnailObj.parent().parent().remove();
      }

      // handle image 404s
      function removeBrokenThumbnails() {
        $('.thumb').each(function() {
          let imgElt = $(this).get(0);
          if (imgElt.complete && imgElt.naturalWidth === 0) {
            // console.warn("error loading lowres", $(this).attr("src"));
            removeThumbnailBoundingBox($(this));
          }
        });
      }

      function setBackToTopBtnBehavior() {
        const btn = $("#back-to-top-btn");
        function setBackToTopBtnState(){
          if (document.body.scrollTop > 30 || document.documentElement.scrollTop > 30) {
            // document.querySelector("#back-to-top-btn").style.display = "block";
            if(btn.get(0).style.display !== "block")
              btn.fadeIn();
          } else {
            // document.querySelector("#back-to-top-btn").style.display = "none";
            if (btn.get(0).display !== "none")
              btn.fadeOut();
          }
        }
        setBackToTopBtnState();
        $(window).on('scroll', function() {
          setBackToTopBtnState();

        });
      }

      // document ready
      $(function() {
        // lowest priority
        setBackToTopBtnBehavior();
      });

      // window ready (i.e., all images loaded, among other things)
      $(window).on('load', function() {
        removeBrokenThumbnails();
        prepThumbnails();
        backgroundLoadSerial();


      });


    </script>
    <title>title</title>
  </head>
  <body>

    <p>
      <button onclick="(() => {document.querySelector('#center').style.justifyContent = 'center';})();" type="button">centered</button>
      <button onclick="(() => {document.querySelector('#center').style.justifyContent = 'space-around';})();" type="button">space-around</button>
      <button onclick="(() => {document.querySelector('#center').style.justifyContent = 'space-between';})();" type="button">space-between</button>
      <button onclick="(() => {document.querySelector('#center').style.justifyContent = 'flex-start';})();" type="button">start</button>
      <button onclick="(() => {document.querySelector('#center').style.justifyContent = 'flex-end';})();" type="button">end</button>
    </p>

    <div id="center">

<div class="thumb-box"><a class="full-anchor" href="https://i.4cdn.org/wg/1507153142598.jpg"><img class="thumb thumb-low-res" data-fullres="https://i.4cdn.org/wg/1507153142598.jpg" src="https://i.4cdn.org/wg/1507153142598s.jpg"></a></div>
<div class="thumb-box"><a class="full-anchor" href="https://i.4cdn.org/wg/1507387781224.png"><img class="thumb thumb-low-res" data-fullres="https://i.4cdn.org/wg/1507387781224.png" src="https://i.4cdn.org/wg/1507387781224s.jpg"></a></div>
<div class="thumb-box"><a class="full-anchor" href="https://i.4cdn.org/wg/1507388825407.jpg"><img class="thumb thumb-low-res" data-fullres="https://i.4cdn.org/wg/1507388825407.jpg" src="https://i.4cdn.org/wg/1507388825407s.jpg"></a></div>
<div class="thumb-box"><a class="full-anchor" href="https://i.4cdn.org/wg/1507393436293.jpg"><img class="thumb thumb-low-res" data-fullres="https://i.4cdn.org/wg/1507393436293.jpg" src="https://i.4cdn.org/wg/1507393436293s.jpg"></a></div>
<div class="thumb-box"><a class="full-anchor" href="https://i.4cdn.org/wg/1507405655739.jpg"><img class="thumb thumb-low-res" data-fullres="https://i.4cdn.org/wg/1507405655739.jpg" src="https://i.4cdn.org/wg/1507405655739s.jpg"></a></div>
<div class="thumb-box"><a class="full-anchor" href="https://i.4cdn.org/wg/1507407472229.jpg"><img class="thumb thumb-low-res" data-fullres="https://i.4cdn.org/wg/1507407472229.jpg" src="https://i.4cdn.org/wg/1507407472229s.jpg"></a></div>
<div class="thumb-box"><a class="full-anchor" href="https://i.4cdn.org/wg/1507390736145.png"><img class="thumb thumb-low-res" data-fullres="https://i.4cdn.org/wg/1507390736145.png" src="https://i.4cdn.org/wg/1507390736145s.jpg"></a></div>
<div class="thumb-box"><a class="full-anchor" href="https://i.4cdn.org/wg/1507407442992.png"><img class="thumb thumb-low-res" data-fullres="https://i.4cdn.org/wg/1507407442992.png" src="https://i.4cdn.org/wg/1507407442992s.jpg"></a></div>
<div class="thumb-box"><a class="full-anchor" href="https://i.4cdn.org/wg/1507354667138.png"><img class="thumb thumb-low-res" data-fullres="https://i.4cdn.org/wg/1507354667138.png" src="https://i.4cdn.org/wg/1507354667138s.jpg"></a></div>
<div class="thumb-box"><a class="full-anchor" href="https://i.4cdn.org/wg/1507404131180.png"><img class="thumb thumb-low-res" data-fullres="https://i.4cdn.org/wg/1507404131180.png" src="https://i.4cdn.org/wg/1507404131180s.jpg"></a></div>
<div class="thumb-box"><a class="full-anchor" href="https://i.4cdn.org/wg/1506648534215.jpg"><img class="thumb thumb-low-res" data-fullres="https://i.4cdn.org/wg/1506648534215.jpg" src="https://i.4cdn.org/wg/1506648534215s.jpg"></a></div>
<div class="thumb-box"><a class="full-anchor" href="https://i.4cdn.org/wg/1507300868883.jpg"><img class="thumb thumb-low-res" data-fullres="https://i.4cdn.org/wg/1507300868883.jpg" src="https://i.4cdn.org/wg/1507300868883s.jpg"></a></div>
<div class="thumb-box"><a class="full-anchor" href="https://i.4cdn.org/wg/1507287229019.jpg"><img class="thumb thumb-low-res" data-fullres="https://i.4cdn.org/wg/1507287229019.jpg" src="https://i.4cdn.org/wg/1507287229019s.jpg"></a></div>
<div class="thumb-box"><a class="full-anchor" href="https://i.4cdn.org/wg/1507402887124.png"><img class="thumb thumb-low-res" data-fullres="https://i.4cdn.org/wg/1507402887124.png" src="https://i.4cdn.org/wg/1507402887124s.jpg"></a></div>
<div class="thumb-box"><a class="full-anchor" href="https://i.4cdn.org/wg/1507406731956.png"><img class="thumb thumb-low-res" data-fullres="https://i.4cdn.org/wg/1507406731956.png" src="https://i.4cdn.org/wg/1507406731956s.jpg"></a></div>
<div class="thumb-box"><a class="full-anchor" href="https://i.4cdn.org/wg/1507406944534.png"><img class="thumb thumb-low-res" data-fullres="https://i.4cdn.org/wg/1507406944534.png" src="https://i.4cdn.org/wg/1507406944534s.jpg"></a></div>
<div class="thumb-box"><a class="full-anchor" href="https://i.4cdn.org/wg/1506862056474.png"><img class="thumb thumb-low-res" data-fullres="https://i.4cdn.org/wg/1506862056474.png" src="https://i.4cdn.org/wg/1506862056474s.jpg"></a></div>
<div class="thumb-box"><a class="full-anchor" href="https://i.4cdn.org/wg/1507145956832.jpg"><img class="thumb thumb-low-res" data-fullres="https://i.4cdn.org/wg/1507145956832.jpg" src="https://i.4cdn.org/wg/1507145956832s.jpg"></a></div>
<div class="thumb-box"><a class="full-anchor" href="https://i.4cdn.org/wg/1507153511251.png"><img class="thumb thumb-low-res" data-fullres="https://i.4cdn.org/wg/1507153511251.png" src="https://i.4cdn.org/wg/1507153511251s.jpg"></a></div>
<div class="thumb-box"><a class="full-anchor" href="https://i.4cdn.org/wg/1507164971613.jpg"><img class="thumb thumb-low-res" data-fullres="https://i.4cdn.org/wg/1507164971613.jpg" src="https://i.4cdn.org/wg/1507164971613s.jpg"></a></div>
<div class="thumb-box"><a class="full-anchor" href="https://i.4cdn.org/wg/1507224021929.jpg"><img class="thumb thumb-low-res" data-fullres="https://i.4cdn.org/wg/1507224021929.jpg" src="https://i.4cdn.org/wg/1507224021929s.jpg"></a></div>
<div class="thumb-box"><a class="full-anchor" href="https://i.4cdn.org/wg/1507406918975.jpg"><img class="thumb thumb-low-res" data-fullres="https://i.4cdn.org/wg/1507406918975.jpg" src="https://i.4cdn.org/wg/1507406918975s.jpg"></a></div>
<div class="thumb-box"><a class="full-anchor" href="https://i.4cdn.org/wg/1507406551416.jpg"><img class="thumb thumb-low-res" data-fullres="https://i.4cdn.org/wg/1507406551416.jpg" src="https://i.4cdn.org/wg/1507406551416s.jpg"></a></div>
<div class="thumb-box"><a class="full-anchor" href="https://i.4cdn.org/wg/1507358004360.jpg"><img class="thumb thumb-low-res" data-fullres="https://i.4cdn.org/wg/1507358004360.jpg" src="https://i.4cdn.org/wg/1507358004360s.jpg"></a></div>
<div class="thumb-box"><a class="full-anchor" href="https://i.4cdn.org/wg/1507404613669.png"><img class="thumb thumb-low-res" data-fullres="https://i.4cdn.org/wg/1507404613669.png" src="https://i.4cdn.org/wg/1507404613669s.jpg"></a></div>
<div class="thumb-box"><a class="full-anchor" href="https://i.4cdn.org/wg/1507406245921.jpg"><img class="thumb thumb-low-res" data-fullres="https://i.4cdn.org/wg/1507406245921.jpg" src="https://i.4cdn.org/wg/1507406245921s.jpg"></a></div>
<div class="thumb-box"><a class="full-anchor" href="https://i.4cdn.org/wg/1506812706314.jpg"><img class="thumb thumb-low-res" data-fullres="https://i.4cdn.org/wg/1506812706314.jpg" src="https://i.4cdn.org/wg/1506812706314s.jpg"></a></div>
<div class="thumb-box"><a class="full-anchor" href="https://i.4cdn.org/wg/1507391096175.png"><img class="thumb thumb-low-res" data-fullres="https://i.4cdn.org/wg/1507391096175.png" src="https://i.4cdn.org/wg/1507391096175s.jpg"></a></div>
<div class="thumb-box"><a class="full-anchor" href="https://i.4cdn.org/wg/1507391379179.jpg"><img class="thumb thumb-low-res" data-fullres="https://i.4cdn.org/wg/1507391379179.jpg" src="https://i.4cdn.org/wg/1507391379179s.jpg"></a></div>
<div class="thumb-box"><a class="full-anchor" href="https://i.4cdn.org/wg/1507396316255.jpg"><img class="thumb thumb-low-res" data-fullres="https://i.4cdn.org/wg/1507396316255.jpg" src="https://i.4cdn.org/wg/1507396316255s.jpg"></a></div>
<div class="thumb-box"><a class="full-anchor" href="https://i.4cdn.org/wg/1507397929216.jpg"><img class="thumb thumb-low-res" data-fullres="https://i.4cdn.org/wg/1507397929216.jpg" src="https://i.4cdn.org/wg/1507397929216s.jpg"></a></div>
<div class="thumb-box"><a class="full-anchor" href="https://i.4cdn.org/wg/1505680862126.jpg"><img class="thumb thumb-low-res" data-fullres="https://i.4cdn.org/wg/1505680862126.jpg" src="https://i.4cdn.org/wg/1505680862126s.jpg"></a></div>
<div class="thumb-box"><a class="full-anchor" href="https://i.4cdn.org/wg/1504214240053.jpg"><img class="thumb thumb-low-res" data-fullres="https://i.4cdn.org/wg/1504214240053.jpg" src="https://i.4cdn.org/wg/1504214240053s.jpg"></a></div>
<div class="thumb-box"><a class="full-anchor" href="https://i.4cdn.org/wg/1506190014185.jpg"><img class="thumb thumb-low-res" data-fullres="https://i.4cdn.org/wg/1506190014185.jpg" src="https://i.4cdn.org/wg/1506190014185s.jpg"></a></div>
<div class="thumb-box"><a class="full-anchor" href="https://i.4cdn.org/wg/1507282229343.jpg"><img class="thumb thumb-low-res" data-fullres="https://i.4cdn.org/wg/1507282229343.jpg" src="https://i.4cdn.org/wg/1507282229343s.jpg"></a></div>
<div class="thumb-box"><a class="full-anchor" href="https://i.4cdn.org/wg/1507302596968.jpg"><img class="thumb thumb-low-res" data-fullres="https://i.4cdn.org/wg/1507302596968.jpg" src="https://i.4cdn.org/wg/1507302596968s.jpg"></a></div>
<div class="thumb-box"><a class="full-anchor" href="https://i.4cdn.org/wg/1507308769881.jpg"><img class="thumb thumb-low-res" data-fullres="https://i.4cdn.org/wg/1507308769881.jpg" src="https://i.4cdn.org/wg/1507308769881s.jpg"></a></div>
<div class="thumb-box"><a class="full-anchor" href="https://i.4cdn.org/wg/1507405557873.png"><img class="thumb thumb-low-res" data-fullres="https://i.4cdn.org/wg/1507405557873.png" src="https://i.4cdn.org/wg/1507405557873s.jpg"></a></div>
<div class="thumb-box"><a class="full-anchor" href="https://i.4cdn.org/wg/1507328884358.jpg"><img class="thumb thumb-low-res" data-fullres="https://i.4cdn.org/wg/1507328884358.jpg" src="https://i.4cdn.org/wg/1507328884358s.jpg"></a></div>
<div class="thumb-box"><a class="full-anchor" href="https://i.4cdn.org/wg/1507329052147.jpg"><img class="thumb thumb-low-res" data-fullres="https://i.4cdn.org/wg/1507329052147.jpg" src="https://i.4cdn.org/wg/1507329052147s.jpg"></a></div>
<div class="thumb-box"><a class="full-anchor" href="https://i.4cdn.org/wg/1507397521320.jpg"><img class="thumb thumb-low-res" data-fullres="https://i.4cdn.org/wg/1507397521320.jpg" src="https://i.4cdn.org/wg/1507397521320s.jpg"></a></div>
<div class="thumb-box"><a class="full-anchor" href="https://i.4cdn.org/wg/1507398423244.jpg"><img class="thumb thumb-low-res" data-fullres="https://i.4cdn.org/wg/1507398423244.jpg" src="https://i.4cdn.org/wg/1507398423244s.jpg"></a></div>
<div class="thumb-box"><a class="full-anchor" href="https://i.4cdn.org/wg/1507405468034.jpg"><img class="thumb thumb-low-res" data-fullres="https://i.4cdn.org/wg/1507405468034.jpg" src="https://i.4cdn.org/wg/1507405468034s.jpg"></a></div>

    </div>

    <button class="back-to-top-btn-blk" id="back-to-top-btn" title="Go back to top" onclick="(()=>{ $('html, body').animate({scrollTop: 0}, 'slow'); })();"><i class="fa fa-chevron-circle-up"></i></button>

    <script async src="https://use.fontawesome.com/10ae14b244.js"></script>
  </body>
</html>
